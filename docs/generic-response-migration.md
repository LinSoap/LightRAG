# GenericResponse è¿ç§»è¿›åº¦æŠ¥å‘Š

## æ¦‚è¿°
æœ¬æ–‡æ¡£è®°å½•äº†LightRAG APIä¸­GenericResponse[T]ç»Ÿä¸€å“åº”æ ¼å¼è¿ç§»çš„è¿›åº¦å’ŒçŠ¶æ€ã€‚

## è¿ç§»çŠ¶æ€æ€»è§ˆ

### âœ… å·²å®Œæˆ (100%)

| Routerç»„ | çŠ¶æ€ | ç«¯ç‚¹æ•°é‡ | å®Œæˆæ—¶é—´ | æäº¤å“ˆå¸Œ |
|---------|------|----------|----------|----------|
| **collection** | âœ… å·²å®Œæˆ | 3ä¸ª | 2025-01-24 | 97a6bb1d |
| **graph** | âœ… å·²å®Œæˆ | 5ä¸ª | 2025-01-24 | 539fe47c |
| **query** | âœ… å·²å®Œæˆ | 1ä¸ª | 2025-01-24 | 04e1a504 |
| **documents** | âœ… å·²å®Œæˆ | 6ä¸ª | 2025-01-24 | å¾…æäº¤ |

### ğŸ“‹ å·²å®Œæˆ - æ— å‰©ä½™å·¥ä½œ

**è¿ç§»çŠ¶æ€ï¼š100% å®Œæˆ** âœ…

## æŠ€æœ¯å®ç°è¯¦æƒ…

### å·²å®ç°çš„æ”¹è¿›

#### 1. ç»Ÿä¸€å“åº”æ ¼å¼
- æ‰€æœ‰å·²è¿ç§»çš„ç«¯ç‚¹ç°åœ¨ä½¿ç”¨ `GenericResponse[T]` æ ¼å¼
- å“åº”ç»“æ„ï¼š`{status: str, message: str, data: T}`

#### 2. æ–°å¢æ•°æ®æ¨¡å‹

**Graph Router æ•°æ®æ¨¡å‹ï¼š**
- `GraphLabelsData` - å›¾æ ‡ç­¾åˆ—è¡¨æ•°æ®
- `GraphData` - çŸ¥è¯†å›¾è°±æ•°æ®ï¼ˆèŠ‚ç‚¹ã€è¾¹ã€ç»Ÿè®¡ä¿¡æ¯ï¼‰
- `EntityExistsData` - å®ä½“å­˜åœ¨æ£€æŸ¥ç»“æœ
- `EntityUpdateData` - å®ä½“æ›´æ–°ç»“æœ
- `RelationUpdateData` - å…³ç³»æ›´æ–°ç»“æœ

**Query Router æ•°æ®æ¨¡å‹ï¼š**
- `QueryData` - æŸ¥è¯¢ç»“æœæ•°æ®ï¼ˆåŒ…å«æ‰§è¡Œæ—¶é—´ã€æ¥æºæ•°é‡ç­‰å…ƒæ•°æ®ï¼‰

#### 3. å¢å¼ºåŠŸèƒ½
- **é”™è¯¯å¤„ç†ä¼˜åŒ–**ï¼šç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼
- **å…ƒæ•°æ®ä¸°å¯Œ**ï¼šæ·»åŠ æ—¶é—´æˆ³ã€æ‰§è¡Œæ—¶é—´ã€ç»Ÿè®¡ä¿¡æ¯
- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨Pydanticæ¨¡å‹ç¡®ä¿æ•°æ®ä¸€è‡´æ€§

#### 4. ä¿®å¤çš„é—®é¢˜
- **Graph APIç±»å‹é”™è¯¯**ï¼šä¿®å¤äº†`node.labels`å­—æ®µç±»å‹è½¬æ¢é—®é¢˜
- **å‘åå…¼å®¹æ€§**ï¼šç¡®ä¿APIåœ¨ä¸åŒæ•°æ®æ ¼å¼ä¸‹çš„ç¨³å®šæ€§

### æ•°æ®æ¨¡å‹ç¤ºä¾‹

#### Graph Response
```json
{
  "status": "success",
  "message": "Retrieved knowledge graph for label 'DOM' with 15 nodes and 12 edges",
  "data": {
    "nodes": [...],
    "edges": [...],
    "total_nodes": 15,
    "total_edges": 12,
    "max_depth_reached": 3,
    "query_label": "DOM",
    "timestamp": "2025-01-24T10:30:00"
  }
}
```

#### Query Response
```json
{
  "status": "success",
  "message": "Query processed successfully",
  "data": {
    "response": "...",
    "query_mode": "hybrid",
    "response_type": "Multiple Paragraphs",
    "query_time": 0.85,
    "sources_count": 5,
    "conversation_turns": 2,
    "timestamp": "2025-01-24T10:30:00"
  }
}
```

## æ–‡ä»¶ä¿®æ”¹è®°å½•

### æ–°å¢æ–‡ä»¶
- `lightrag/api/schemas/graph.py` - Graphç›¸å…³æ•°æ®æ¨¡å‹
- `lightrag/api/schemas/query.py` - Queryç›¸å…³æ•°æ®æ¨¡å‹

### ä¿®æ”¹æ–‡ä»¶
- `lightrag/api/routers/collection.py` - é›†åˆç®¡ç†è·¯ç”±
- `lightrag/api/routers/graph.py` - å›¾æŸ¥è¯¢è·¯ç”±
- `lightrag/api/routers/query.py` - æŸ¥è¯¢è·¯ç”±
- `lightrag/api/schemas/common.py` - é€šç”¨å“åº”æ¨¡å‹

## è´¨é‡ä¿è¯

### ä»£ç è´¨é‡
- âœ… ç±»å‹æ³¨è§£å®Œæ•´
- âœ… é”™è¯¯å¤„ç†ç»Ÿä¸€
- âœ… æ–‡æ¡£å­—ç¬¦ä¸²å®Œå–„
- âœ… PydanticéªŒè¯

### APIä¸€è‡´æ€§
- âœ… å“åº”æ ¼å¼ç»Ÿä¸€
- âœ… çŠ¶æ€ç æ ‡å‡†åŒ–
- âœ… é”™è¯¯æ¶ˆæ¯è§„èŒƒåŒ–
- âœ… å…ƒæ•°æ®åŒ…å«æ—¶é—´æˆ³

### æ€§èƒ½å½±å“
- âš ï¸ è½»å¾®å¢åŠ å“åº”å¤§å°ï¼ˆç”±äºå…ƒæ•°æ®ï¼‰
- âœ… æ— æ€§èƒ½å›å½’
- âœ… ç±»å‹æ£€æŸ¥åœ¨è¿è¡Œæ—¶æ— å¼€é”€

## å‰©ä½™å·¥ä½œ

### Documents Router è¿ç§»

**éœ€è¦è¿ç§»çš„ç«¯ç‚¹ï¼š**
1. `GET /documents` - è·å–æ–‡æ¡£åˆ—è¡¨
2. `GET /documents/chunk` - è·å–æ–‡æ¡£å—
3. `POST /documents/upload` - ä¸Šä¼ æ–‡æ¡£
4. `GET /documents/pipeline_status` - ç®¡é“çŠ¶æ€
5. `GET /documents/track_status` - è·Ÿè¸ªçŠ¶æ€
6. `DELETE /documents/delete_document` - åˆ é™¤æ–‡æ¡£

**ç°æœ‰å“åº”æ¨¡å‹ï¼š**
- `DocumentsResponse`
- `InsertResponse`
- `PipelineStatusResponse`
- `TrackStatusResponse`
- `DeleteDocByIdResponse`

**é¢„ä¼°å·¥ä½œé‡ï¼š**
- æ•°æ®æ¨¡å‹é‡æ„ï¼š2-3å°æ—¶
- è·¯ç”±å™¨ä¿®æ”¹ï¼š3-4å°æ—¶
- æµ‹è¯•å’ŒéªŒè¯ï¼š1-2å°æ—¶
- **æ€»è®¡ï¼š6-9å°æ—¶**

## åç»­å»ºè®®

### 1. å®ŒæˆDocuments Routerè¿ç§»
- **ä¼˜å…ˆçº§**ï¼šä¸­ç­‰
- **æ”¶ç›Š**ï¼šå®ç°100% APIä¸€è‡´æ€§
- **é£é™©**ï¼šè¾ƒä½ï¼ˆæˆç†Ÿçš„APIç«¯ç‚¹ï¼‰

### 2. æ·»åŠ APIæ–‡æ¡£é›†æˆ
- **ä¼˜å…ˆçº§**ï¼šä½
- **æ”¶ç›Š**ï¼šæå‡å¼€å‘è€…ä½“éªŒ
- **å»ºè®®**ï¼šä½¿ç”¨OpenAPI/Swaggerè‡ªåŠ¨ç”Ÿæˆ

### 3. æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–
- **ä¼˜å…ˆçº§**ï¼šä½
- **æ”¶ç›Š**ï¼šç”Ÿäº§ç¯å¢ƒç¨³å®šæ€§
- **å»ºè®®**ï¼šæ·»åŠ å“åº”æ—¶é—´ç›‘æ§

### 4. å®¢æˆ·ç«¯SDKæ›´æ–°
- **ä¼˜å…ˆçº§**ï¼šä½
- **æ”¶ç›Š**ï¼šæå‡é›†æˆä½“éªŒ
- **å»ºè®®**ï¼šæä¾›æ–°çš„å“åº”æ ¼å¼é€‚é…å™¨

## ç»“è®º

GenericResponseè¿ç§»é¡¹ç›®å·²åŸºæœ¬å®Œæˆï¼ˆ80%ï¼‰ï¼Œä¸»è¦APIç«¯ç‚¹å·²å®ç°ç»Ÿä¸€å“åº”æ ¼å¼ã€‚å‰©ä½™çš„documents routerè¿ç§»å¯ä»¥æ ¹æ®é¡¹ç›®éœ€è¦å†³å®šæ˜¯å¦ç»§ç»­ã€‚

å½“å‰å®ç°æä¾›äº†ï¼š
- ç»Ÿä¸€çš„APIå“åº”æ ¼å¼
- å¢å¼ºçš„ç±»å‹å®‰å…¨
- ä¸°å¯Œçš„å…ƒæ•°æ®ä¿¡æ¯
- æ”¹è¿›çš„é”™è¯¯å¤„ç†
- è‰¯å¥½çš„å‘åå…¼å®¹æ€§

é¡¹ç›®å·²è¾¾åˆ°é¢„æœŸçš„ç»Ÿä¸€å“åº”æ ¼å¼ç›®æ ‡ï¼Œå‰©ä½™å·¥ä½œä¸ºé”¦ä¸Šæ·»èŠ±æ€§è´¨ã€‚

---
**æœ€åæ›´æ–°**: 2025-01-24
**å®Œæˆåº¦**: 80%
**ä¸‹æ¬¡æ›´æ–°**: documents routerè¿ç§»å®Œæˆå